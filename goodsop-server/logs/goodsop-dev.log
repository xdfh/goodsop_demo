2025-05-06T15:47:14.092+08:00  INFO 2108 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication v1.0.0-SNAPSHOT using Java 17.0.12 with PID 2108 (D:\work\cursor\goodsop3\goodsop-server\target\goodsop-server-1.0.0-SNAPSHOT.jar started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T15:47:14.094+08:00 DEBUG 2108 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T15:47:14.095+08:00  INFO 2108 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T15:47:15.667+08:00  INFO 2108 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T15:47:15.680+08:00  INFO 2108 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T15:47:15.681+08:00  INFO 2108 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T15:47:15.767+08:00  INFO 2108 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T15:47:15.768+08:00  INFO 2108 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1620 ms
2025-05-06T15:47:17.655+08:00  INFO 2108 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T15:47:17.726+08:00  INFO 2108 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-05-06T15:47:17.739+08:00  INFO 2108 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 4.056 seconds (process running for 4.396)
2025-05-06T16:17:18.310+08:00  INFO 15784 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 15784 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:17:18.311+08:00 DEBUG 15784 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:17:18.312+08:00  INFO 15784 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:17:19.299+08:00  INFO 15784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T16:17:19.305+08:00  INFO 15784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:17:19.306+08:00  INFO 15784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:17:19.369+08:00  INFO 15784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:17:19.369+08:00  INFO 15784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1023 ms
2025-05-06T16:17:20.570+08:00  INFO 15784 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:17:20.617+08:00  INFO 15784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-05-06T16:17:20.627+08:00  INFO 15784 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 2.599 seconds (process running for 2.798)
2025-05-06T16:18:51.234+08:00  INFO 15784 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-06T16:18:51.235+08:00  INFO 15784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-06T16:18:51.236+08:00  INFO 15784 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-06T16:18:51.287+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [d33ac2685dc0] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@e26f8c8, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 0, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.288+08:00  INFO 15784 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=0/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:18:51.308+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-05-06T16:18:51.435+08:00  INFO 15784 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:18:51.435+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.443+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part
2025-05-06T16:18:51.444+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:18:51.445+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:18:51.445+08:00  INFO 15784 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:18:51.445+08:00  INFO 15784 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块 1/4 上传成功，等待后续分块上传
2025-05-06T16:18:51.446+08:00  INFO 15784 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=0, completed=false}
2025-05-06T16:18:51.472+08:00  INFO 15784 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [d33ac2685dc0] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 160ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":0,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.512+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [7d570b154a77] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4d8e2395, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 1, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.512+08:00  INFO 15784 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:18:51.513+08:00  INFO 15784 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:18:51.513+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.519+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part
2025-05-06T16:18:51.519+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 当前已上传 2/4 个分块
2025-05-06T16:18:51.519+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 2/4
2025-05-06T16:18:51.520+08:00  INFO 15784 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:18:51.520+08:00  INFO 15784 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块 2/4 上传成功，等待后续分块上传
2025-05-06T16:18:51.520+08:00  INFO 15784 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=1, completed=false}
2025-05-06T16:18:51.521+08:00  INFO 15784 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [7d570b154a77] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 9ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":1,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.533+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e305929e5f35] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@16b9b8b2, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 2, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.535+08:00  INFO 15784 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:18:51.536+08:00  INFO 15784 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:18:51.536+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.537+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part
2025-05-06T16:18:51.538+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 当前已上传 3/4 个分块
2025-05-06T16:18:51.538+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 3/4
2025-05-06T16:18:51.539+08:00  INFO 15784 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:18:51.539+08:00  INFO 15784 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块 3/4 上传成功，等待后续分块上传
2025-05-06T16:18:51.540+08:00  INFO 15784 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=2, completed=false}
2025-05-06T16:18:51.540+08:00  INFO 15784 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e305929e5f35] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 7ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":2,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.560+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [80c7f00e173e] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@5368a271, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:51.561+08:00  INFO 15784 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:18:51.562+08:00  INFO 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:18:51.562+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.564+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:18:51.565+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 当前已上传 4/4 个分块
2025-05-06T16:18:51.565+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 开始合并文件分块, 临时目录: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc, 目标文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, 分块数: 4
2025-05-06T16:18:51.565+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part, 大小: 1048576 字节
2025-05-06T16:18:51.567+08:00 DEBUG 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 1048576
2025-05-06T16:18:51.568+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part, 大小: 1048576 字节
2025-05-06T16:18:51.569+08:00 DEBUG 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 2097152
2025-05-06T16:18:51.570+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part, 大小: 1048576 字节
2025-05-06T16:18:51.571+08:00 DEBUG 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 3145728
2025-05-06T16:18:51.571+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part, 大小: 672976 字节
2025-05-06T16:18:51.572+08:00 DEBUG 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 672976 字节数据，当前位置: 3818704
2025-05-06T16:18:51.583+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 文件分块合并完成, 总大小: 3818704 字节
2025-05-06T16:18:51.584+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.584+08:00  INFO 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.585+08:00  INFO 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:51.621+08:00 ERROR 15784 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileEncryptUtil    : 文件解密失败: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:18:51.636+08:00 ERROR 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件处理失败: 文件解密失败

java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:18:51.648+08:00 ERROR 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理文件失败: 文件处理失败

java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:18:51.660+08:00 ERROR 15784 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传处理失败: 处理文件失败

java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:18:51.673+08:00 ERROR 15784 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 分块上传失败: 分块上传处理失败

java.lang.RuntimeException: 分块上传处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:321) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:18:51.685+08:00  INFO 15784 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [80c7f00e173e] - 2025-05-06 16:18:51 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 125ms
│ 返回结果 : {"code":500,"msg":"分块上传失败: 分块上传处理失败","data":null}
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:56.698+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [7e390ea2192c] - 2025-05-06 16:18:56 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@361976d9, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:18:56.699+08:00  INFO 15784 --- [http-nio-8080-exec-8] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:18:56.700+08:00  INFO 15784 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:18:56.700+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:18:56.702+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:18:56.702+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:18:56.703+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:18:56.703+08:00  INFO 15784 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:18:56.703+08:00  INFO 15784 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 分块 4/4 上传成功，等待后续分块上传
2025-05-06T16:18:56.703+08:00  INFO 15784 --- [http-nio-8080-exec-8] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=3, completed=false}
2025-05-06T16:18:56.703+08:00  INFO 15784 --- [http-nio-8080-exec-8] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [7e390ea2192c] - 2025-05-06 16:18:56 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 5ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":3,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:20:59.576+08:00  INFO 22336 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 22336 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:20:59.577+08:00 DEBUG 22336 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:20:59.578+08:00  INFO 22336 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:21:00.598+08:00  INFO 22336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T16:21:00.606+08:00  INFO 22336 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:21:00.607+08:00  INFO 22336 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:21:00.678+08:00  INFO 22336 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:21:00.679+08:00  INFO 22336 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1068 ms
2025-05-06T16:21:01.882+08:00  INFO 22336 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:21:01.931+08:00  INFO 22336 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-05-06T16:21:01.941+08:00  INFO 22336 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 2.645 seconds (process running for 2.847)
2025-05-06T16:21:15.728+08:00  INFO 22336 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-06T16:21:15.729+08:00  INFO 22336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-06T16:21:15.731+08:00  INFO 22336 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-06T16:21:15.792+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [01655316533a] - 2025-05-06 16:21:15 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3862b08e, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 0, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:15.793+08:00  INFO 22336 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=0/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:21:15.813+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-05-06T16:21:15.941+08:00  INFO 22336 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:21:15.942+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:15.949+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part
2025-05-06T16:21:15.950+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:21:15.950+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:21:15.950+08:00  INFO 22336 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:21:15.950+08:00  INFO 22336 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块 1/4 上传成功，等待后续分块上传
2025-05-06T16:21:15.951+08:00  INFO 22336 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=0, completed=false}
2025-05-06T16:21:15.980+08:00  INFO 22336 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [01655316533a] - 2025-05-06 16:21:15 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 160ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":0,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.009+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [695ad655cf8b] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6fd82013, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 1, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.011+08:00  INFO 22336 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:21:16.012+08:00  INFO 22336 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:21:16.013+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.018+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part
2025-05-06T16:21:16.019+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 当前已上传 2/4 个分块
2025-05-06T16:21:16.019+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 2/4
2025-05-06T16:21:16.020+08:00  INFO 22336 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:21:16.020+08:00  INFO 22336 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块 2/4 上传成功，等待后续分块上传
2025-05-06T16:21:16.020+08:00  INFO 22336 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=1, completed=false}
2025-05-06T16:21:16.021+08:00  INFO 22336 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [695ad655cf8b] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 12ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":1,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.034+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [fbc8ec959a99] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@43acdc28, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 2, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.035+08:00  INFO 22336 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:21:16.036+08:00  INFO 22336 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:21:16.036+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.038+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part
2025-05-06T16:21:16.039+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 当前已上传 3/4 个分块
2025-05-06T16:21:16.039+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 3/4
2025-05-06T16:21:16.040+08:00  INFO 22336 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:21:16.040+08:00  INFO 22336 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块 3/4 上传成功，等待后续分块上传
2025-05-06T16:21:16.041+08:00  INFO 22336 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=2, completed=false}
2025-05-06T16:21:16.041+08:00  INFO 22336 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [fbc8ec959a99] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 7ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":2,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.051+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [6d43646a800e] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@36a40e8c, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:16.052+08:00  INFO 22336 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:21:16.053+08:00  INFO 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:21:16.053+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.055+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:21:16.056+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 当前已上传 4/4 个分块
2025-05-06T16:21:16.057+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 开始合并文件分块, 临时目录: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc, 目标文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, 分块数: 4
2025-05-06T16:21:16.058+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part, 大小: 1048576 字节
2025-05-06T16:21:16.060+08:00 DEBUG 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 1048576
2025-05-06T16:21:16.060+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part, 大小: 1048576 字节
2025-05-06T16:21:16.061+08:00 DEBUG 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 2097152
2025-05-06T16:21:16.062+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part, 大小: 1048576 字节
2025-05-06T16:21:16.063+08:00 DEBUG 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 3145728
2025-05-06T16:21:16.063+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part, 大小: 672976 字节
2025-05-06T16:21:16.065+08:00 DEBUG 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 已合并 672976 字节数据，当前位置: 3818704
2025-05-06T16:21:16.077+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 文件分块合并完成, 总大小: 3818704 字节
2025-05-06T16:21:16.078+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.079+08:00  INFO 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.079+08:00  INFO 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:16.120+08:00 ERROR 22336 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileEncryptUtil    : 文件解密失败: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:21:16.137+08:00 ERROR 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件处理失败: 文件解密失败

java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:21:16.149+08:00 ERROR 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理文件失败: 文件处理失败

java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:21:16.166+08:00 ERROR 22336 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传处理失败: 处理文件失败

java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:21:16.182+08:00 ERROR 22336 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 分块上传失败: 分块上传处理失败

java.lang.RuntimeException: 分块上传处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:321) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:21:16.199+08:00  INFO 22336 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [6d43646a800e] - 2025-05-06 16:21:16 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 147ms
│ 返回结果 : {"code":500,"msg":"分块上传失败: 分块上传处理失败","data":null}
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:21.209+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [ef3caf28d392] - 2025-05-06 16:21:21 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@10216365, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:21:21.211+08:00  INFO 22336 --- [http-nio-8080-exec-8] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:21:21.211+08:00  INFO 22336 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:21:21.211+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:21:21.213+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:21:21.214+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:21:21.214+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:21:21.214+08:00  INFO 22336 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:21:21.214+08:00  INFO 22336 --- [http-nio-8080-exec-8] c.g.file.service.impl.FileServiceImpl    : 分块 4/4 上传成功，等待后续分块上传
2025-05-06T16:21:21.215+08:00  INFO 22336 --- [http-nio-8080-exec-8] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=3, completed=false}
2025-05-06T16:21:21.215+08:00  INFO 22336 --- [http-nio-8080-exec-8] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [ef3caf28d392] - 2025-05-06 16:21:21 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":3,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:23:39.606+08:00  INFO 21232 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 21232 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:23:39.608+08:00 DEBUG 21232 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:23:39.609+08:00  INFO 21232 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:23:40.570+08:00  INFO 21232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T16:23:40.577+08:00  INFO 21232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:23:40.578+08:00  INFO 21232 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:23:40.638+08:00  INFO 21232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:23:40.640+08:00  INFO 21232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 995 ms
2025-05-06T16:23:41.893+08:00  INFO 21232 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:23:41.940+08:00  INFO 21232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-05-06T16:23:41.951+08:00  INFO 21232 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 2.618 seconds (process running for 2.815)
2025-05-06T16:24:23.022+08:00  INFO 21232 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-06T16:24:23.024+08:00  INFO 21232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-06T16:24:23.025+08:00  INFO 21232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-06T16:24:23.076+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [ef451cbce509] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@e26f8c8, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE25, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.077+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=0/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:24:23.094+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-05-06T16:24:23.216+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:24:23.217+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.224+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 1/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\0.part
2025-05-06T16:24:23.224+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:24:23.224+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:24:23.225+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:24:23.225+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块 1/4 上传成功，等待后续分块上传
2025-05-06T16:24:23.226+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=0, completed=false}
2025-05-06T16:24:23.250+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [ef451cbce509] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 151ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":0,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.276+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [1a3ebbfbe979] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4d8e2395, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE25, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.278+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:24:23.278+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:24:23.278+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.283+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 2/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\1.part
2025-05-06T16:24:23.284+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 当前已上传 2/4 个分块
2025-05-06T16:24:23.284+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 2/4
2025-05-06T16:24:23.284+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:24:23.284+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块 2/4 上传成功，等待后续分块上传
2025-05-06T16:24:23.285+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=1, completed=false}
2025-05-06T16:24:23.285+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [1a3ebbfbe979] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 9ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":1,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.297+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [f5bda26ceb7a] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@64da29fa, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE25, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.298+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:24:23.298+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:24:23.298+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.301+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 3/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\2.part
2025-05-06T16:24:23.301+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 当前已上传 3/4 个分块
2025-05-06T16:24:23.302+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 3/4
2025-05-06T16:24:23.302+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:24:23.302+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块 3/4 上传成功，等待后续分块上传
2025-05-06T16:24:23.302+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=2, completed=false}
2025-05-06T16:24:23.303+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [f5bda26ceb7a] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":2,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.312+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2325a8131dfc] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6c18918c, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE25, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:24:23.313+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=672956, deviceId=DEVICE25
2025-05-06T16:24:23.314+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, size=672956 bytes, deviceId=DEVICE25
2025-05-06T16:24:23.314+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.316+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\3.part
2025-05-06T16:24:23.316+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 当前已上传 4/4 个分块
2025-05-06T16:24:23.317+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 开始合并文件分块, 临时目录: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e, 目标文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, 分块数: 4
2025-05-06T16:24:23.317+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 1/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\0.part, 大小: 1048576 字节
2025-05-06T16:24:23.319+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 1048576
2025-05-06T16:24:23.319+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 2/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\1.part, 大小: 1048576 字节
2025-05-06T16:24:23.320+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 2097152
2025-05-06T16:24:23.320+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 3/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\2.part, 大小: 1048576 字节
2025-05-06T16:24:23.321+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 3145728
2025-05-06T16:24:23.321+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 4/4: D:\file\20250506\temp\739758ec80aa1ac0dc72179cd9a8b71e\3.part, 大小: 672956 字节
2025-05-06T16:24:23.322+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 已合并 672956 字节数据，当前位置: 3818684
2025-05-06T16:24:23.347+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 文件分块合并完成, 总大小: 3818684 字节
2025-05-06T16:24:23.348+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.349+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.349+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.371+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-05-06T16:24:23.371+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: 原文件=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, 处理后文件=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-05-06T16:24:23.388+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] com.goodsop.file.util.FileEncryptUtil    : 文件MD5计算完成: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz, MD5=2072231eee8912e4312bd92b077be16b
2025-05-06T16:24:23.388+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 文件MD5计算完成: 2072231eee8912e4312bd92b077be16b
2025-05-06T16:24:23.389+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 解析标准文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.390+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 从文件名解析元数据: deviceId=DEVICE25, recordDate=2025-05-06, userId=USER2, timestamp=1745981877207, duration=239595
2025-05-06T16:24:23.414+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, file_size, file_type, file_md5, record_date, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-05-06T16:24:23.425+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: DEVICE25(String), USER2(String), DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz(String), D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), http://localhost:8080/files/D:/file/20250506/DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-05-06(LocalDate), 239595(Long), 2025-05-06T16:24:23.391410400(LocalDateTime), 1(Integer), 2025-05-06T16:24:23.391410400(LocalDateTime), 2025-05-06T16:24:23.391410400(LocalDateTime), 0(Integer)
2025-05-06T16:24:23.429+08:00 DEBUG 21232 --- [http-nio-8080-exec-6] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-05-06T16:24:23.432+08:00  INFO 21232 --- [http-nio-8080-exec-6] c.g.file.service.impl.FileServiceImpl    : 文件信息已保存到数据库: id=106, fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-05-06T16:24:23.437+08:00  INFO 21232 --- [http-nio-8080-exec-6] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2325a8131dfc] - 2025-05-06 16:24:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 123ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","fileSize":3833983,"accessUrl":"http://localhost:8080/files/D:/file/20250506/DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","success":true,"filePath":"D:\\file\\20250506\\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","completed":true,"uploadTime":"2025-05-06 16:24:23.391","fileType":"gz","fileId":106}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.038+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [9fbc087bad6c] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@16b9b8b2, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 0, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.040+08:00  INFO 21232 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=0/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:25:20.041+08:00  INFO 21232 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:25:20.041+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.043+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块 1/4 上传成功，等待后续分块上传
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=0, completed=false}
2025-05-06T16:25:20.044+08:00  INFO 21232 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [9fbc087bad6c] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":0,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.065+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e878b0aa4529] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@38b01962, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 1, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.066+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=1/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:25:20.067+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:25:20.067+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.069+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part
2025-05-06T16:25:20.070+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 当前已上传 2/4 个分块
2025-05-06T16:25:20.070+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 2/4
2025-05-06T16:25:20.070+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:25:20.070+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块 2/4 上传成功，等待后续分块上传
2025-05-06T16:25:20.071+08:00  INFO 21232 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=1, completed=false}
2025-05-06T16:25:20.071+08:00  INFO 21232 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e878b0aa4529] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":1,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.082+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [f0c3a4e7b92a] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@54628a55, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 2, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.084+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=2/4, fileSize=1048576, deviceId=DEVICE25
2025-05-06T16:25:20.084+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, size=1048576 bytes, deviceId=DEVICE25
2025-05-06T16:25:20.084+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.086+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 当前已上传 3/4 个分块
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 3/4
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块 3/4 上传成功，等待后续分块上传
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=2, completed=false}
2025-05-06T16:25:20.087+08:00  INFO 21232 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [f0c3a4e7b92a] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 5ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":2,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.098+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [bbdc46e5d88f] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@60e5b1b9, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:20.099+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:25:20.100+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:25:20.100+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.102+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:25:20.103+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 当前已上传 4/4 个分块
2025-05-06T16:25:20.103+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 开始合并文件分块, 临时目录: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc, 目标文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, 分块数: 4
2025-05-06T16:25:20.104+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 1/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\0.part, 大小: 1048576 字节
2025-05-06T16:25:20.105+08:00 DEBUG 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 1048576
2025-05-06T16:25:20.105+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 2/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\1.part, 大小: 1048576 字节
2025-05-06T16:25:20.107+08:00 DEBUG 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 2097152
2025-05-06T16:25:20.107+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 3/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\2.part, 大小: 1048576 字节
2025-05-06T16:25:20.108+08:00 DEBUG 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 已合并 1048576 字节数据，当前位置: 3145728
2025-05-06T16:25:20.108+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 合并分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part, 大小: 672976 字节
2025-05-06T16:25:20.109+08:00 DEBUG 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 已合并 672976 字节数据，当前位置: 3818704
2025-05-06T16:25:20.129+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 文件分块合并完成, 总大小: 3818704 字节
2025-05-06T16:25:20.131+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.131+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.131+08:00  INFO 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250506\DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:20.167+08:00 ERROR 21232 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileEncryptUtil    : 文件解密失败: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:25:20.180+08:00 ERROR 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件处理失败: 文件解密失败

java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:25:20.193+08:00 ERROR 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理文件失败: 文件处理失败

java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:25:20.204+08:00 ERROR 21232 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块上传处理失败: 处理文件失败

java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:25:20.217+08:00 ERROR 21232 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 分块上传失败: 分块上传处理失败

java.lang.RuntimeException: 分块上传处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:321) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:88) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[goodsop-common-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 处理文件失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:249) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:461) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:244) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 108 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:91) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:436) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 109 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:82) ~[goodsop-file-1.0.0-SNAPSHOT.jar:1.0.0-SNAPSHOT]
	... 110 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 113 common frames omitted

2025-05-06T16:25:20.229+08:00  INFO 21232 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [bbdc46e5d88f] - 2025-05-06 16:25:20 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 131ms
│ 返回结果 : {"code":500,"msg":"分块上传失败: 分块上传处理失败","data":null}
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:25.240+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2b286d7b2ba2] - 2025-05-06 16:25:25 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@360e589f, DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, DEVICE25, 3, 4, 1, 1]
└─────────────────────────────────────────────────────┘
2025-05-06T16:25:25.241+08:00  INFO 21232 --- [http-nio-8080-exec-10] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=3/4, fileSize=672976, deviceId=DEVICE25
2025-05-06T16:25:25.242+08:00  INFO 21232 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileName=DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc, chunk=4/4, size=672976 bytes, deviceId=DEVICE25
2025-05-06T16:25:25.242+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 处理后的安全文件名: DEVICE25_20250506_USER2_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz.enc
2025-05-06T16:25:25.244+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 保存分块文件 4/4: D:\file\20250506\temp\81d9e7dcde043731890bbbe2291c94dc\3.part
2025-05-06T16:25:25.244+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 当前已上传 1/4 个分块
2025-05-06T16:25:25.244+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 等待更多分块上传，当前进度: 1/4
2025-05-06T16:25:25.244+08:00  INFO 21232 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块文件存储结果: targetFile=null
2025-05-06T16:25:25.244+08:00  INFO 21232 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块 4/4 上传成功，等待后续分块上传
2025-05-06T16:25:25.245+08:00  INFO 21232 --- [http-nio-8080-exec-10] c.g.f.controller.FileUploadController    : 部分分块上传完成: {chunk=3, completed=false}
2025-05-06T16:25:25.245+08:00  INFO 21232 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2b286d7b2ba2] - 2025-05-06 16:25:25 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 5ms
│ 返回结果 : {"code":200,"msg":"success","data":{"success":true,"chunk":3,"completed":false}}
└─────────────────────────────────────────────────────┘
2025-05-06T16:55:20.422+08:00  INFO 16832 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 16832 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:55:20.423+08:00 DEBUG 16832 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:55:20.424+08:00  INFO 16832 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:55:21.401+08:00  INFO 16832 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T16:55:21.408+08:00  INFO 16832 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:55:21.408+08:00  INFO 16832 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:55:21.474+08:00  INFO 16832 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:55:21.474+08:00  INFO 16832 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1016 ms
2025-05-06T16:55:22.661+08:00  INFO 16832 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:55:22.698+08:00  WARN 16832 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-06T16:55:22.701+08:00  INFO 16832 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-0} closing ...
2025-05-06T16:55:22.702+08:00  INFO 16832 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-06T16:55:22.742+08:00  INFO 16832 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-06T16:55:22.754+08:00 ERROR 16832 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-06T16:55:33.769+08:00  INFO 13876 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 13876 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:55:33.770+08:00 DEBUG 13876 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:55:33.771+08:00  INFO 13876 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:55:34.780+08:00  INFO 13876 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-05-06T16:55:34.787+08:00  INFO 13876 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:55:34.788+08:00  INFO 13876 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:55:34.852+08:00  INFO 13876 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:55:34.852+08:00  INFO 13876 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1046 ms
2025-05-06T16:55:36.043+08:00  INFO 13876 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:55:36.082+08:00  WARN 13876 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-06T16:55:36.084+08:00  INFO 13876 --- [main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-0} closing ...
2025-05-06T16:55:36.087+08:00  INFO 13876 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-06T16:55:36.131+08:00  INFO 13876 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-06T16:55:36.142+08:00 ERROR 13876 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-06T16:55:50.209+08:00  INFO 9476 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 9476 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T16:55:50.211+08:00 DEBUG 9476 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T16:55:50.212+08:00  INFO 9476 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T16:55:51.197+08:00  INFO 9476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-05-06T16:55:51.203+08:00  INFO 9476 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T16:55:51.204+08:00  INFO 9476 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T16:55:51.269+08:00  INFO 9476 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T16:55:51.269+08:00  INFO 9476 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1024 ms
2025-05-06T16:55:52.461+08:00  INFO 9476 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T16:55:52.507+08:00  INFO 9476 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/api'
2025-05-06T16:55:52.518+08:00  INFO 9476 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 2.588 seconds (process running for 2.783)
2025-05-06T17:05:13.128+08:00  INFO 15880 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication v1.0.0-SNAPSHOT using Java 17.0.12 with PID 15880 (D:\work\cursor\goodsop3\goodsop-server\target\goodsop-server-1.0.0-SNAPSHOT.jar started by pc in D:\work\cursor\goodsop3\goodsop-server)
2025-05-06T17:05:13.130+08:00 DEBUG 15880 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-05-06T17:05:13.131+08:00  INFO 15880 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-05-06T17:05:14.858+08:00  INFO 15880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2025-05-06T17:05:14.870+08:00  INFO 15880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-06T17:05:14.871+08:00  INFO 15880 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-05-06T17:05:14.964+08:00  INFO 15880 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-05-06T17:05:14.965+08:00  INFO 15880 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1783 ms
2025-05-06T17:05:16.852+08:00  INFO 15880 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-05-06T17:05:16.927+08:00  INFO 15880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path '/api'
2025-05-06T17:05:16.942+08:00  INFO 15880 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 4.23 seconds (process running for 4.58)
