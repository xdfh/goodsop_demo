2025-04-30T09:44:13.019+08:00  INFO 11852 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 11852 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T09:44:13.026+08:00 DEBUG 11852 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T09:44:13.027+08:00  INFO 11852 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T09:44:14.212+08:00  INFO 11852 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T09:44:14.219+08:00  INFO 11852 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T09:44:14.219+08:00  INFO 11852 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T09:44:14.285+08:00  INFO 11852 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T09:44:14.285+08:00  INFO 11852 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1217 ms
2025-04-30T09:44:15.688+08:00  INFO 11852 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T09:44:15.743+08:00  INFO 11852 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T09:44:15.753+08:00  INFO 11852 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.16 seconds (process running for 4.08)
2025-04-30T09:44:15.908+08:00  INFO 11852 --- [RMI TCP Connection(2)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T09:44:15.909+08:00  INFO 11852 --- [RMI TCP Connection(2)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T09:44:15.911+08:00  INFO 11852 --- [RMI TCP Connection(2)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-30T09:44:15.933+08:00  INFO 11852 --- [RMI TCP Connection(3)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T09:44:30.709+08:00  WARN 11852 --- [http-nio-8080-exec-3] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T09:44:30.710+08:00  INFO 11852 --- [http-nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 67 ms
2025-04-30T09:44:33.702+08:00  WARN 11852 --- [http-nio-8080-exec-7] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T09:44:33.702+08:00  INFO 11852 --- [http-nio-8080-exec-7] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 93 ms
2025-04-30T09:44:51.392+08:00  INFO 11852 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T09:44:51.396+08:00  INFO 11852 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T09:59:31.895+08:00  INFO 2204 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 2204 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T09:59:31.897+08:00 DEBUG 2204 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T09:59:31.897+08:00  INFO 2204 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T09:59:33.035+08:00  INFO 2204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T09:59:33.042+08:00  INFO 2204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T09:59:33.042+08:00  INFO 2204 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T09:59:33.103+08:00  INFO 2204 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T09:59:33.103+08:00  INFO 2204 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1169 ms
2025-04-30T09:59:34.557+08:00  INFO 2204 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T09:59:34.608+08:00  INFO 2204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T09:59:34.619+08:00  INFO 2204 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.397 seconds (process running for 4.011)
2025-04-30T09:59:35.152+08:00  INFO 2204 --- [RMI TCP Connection(4)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T09:59:35.152+08:00  INFO 2204 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T09:59:35.154+08:00  INFO 2204 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-30T09:59:35.157+08:00  INFO 2204 --- [RMI TCP Connection(1)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T09:59:39.510+08:00  WARN 2204 --- [http-nio-8080-exec-3] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T09:59:39.512+08:00  INFO 2204 --- [http-nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 142 ms
2025-04-30T09:59:47.801+08:00  INFO 2204 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e9035e1c98b7] - 2025-04-30 09:59:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFile
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7f95ea11, unknown, 0, 0]
└─────────────────────────────────────────────────────┘
2025-04-30T09:59:47.802+08:00  INFO 2204 --- [http-nio-8080-exec-4] c.g.f.controller.FileUploadController    : 接收到文件上传请求: fileName=ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, fileSize=375170, deviceId=unknown, isEncrypted=0, isCompressed=0
2025-04-30T09:59:47.807+08:00  INFO 2204 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 文件存储成功: D:\file\20250430\625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz
2025-04-30T09:59:47.853+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T09:59:47.863+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: unknown(String), 333(String), ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz(String), D:\file\20250430\625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz(String), /files/20250430/625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz(String), 375170(Long), tgz(String), a98b56f513cc95932141567aa4c0524d(String), 2025-04-29(LocalDate), 1970-01-21T12:58:41.269(LocalDateTime), 10001000(Long), 2025-04-30T09:59:47.813639400(LocalDateTime), 1(Integer), 2025-04-30T09:59:47.813639400(LocalDateTime), 2025-04-30T09:59:47.813639400(LocalDateTime), 0(Integer)
2025-04-30T09:59:47.867+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T09:59:47.870+08:00  INFO 2204 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 文件上传成功: FileInfo(id=34, deviceId=unknown, userId=333, fileName=ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, filePath=D:\file\20250430\625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz, accessUrl=/files/20250430/625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz, domainPrefix=null, fileSize=375170, fileType=tgz, fileMd5=a98b56f513cc95932141567aa4c0524d, recordDate=2025-04-29, recordStartTime=1970-01-21T12:58:41.269, recordDuration=10001000, uploadTime=2025-04-30T09:59:47.813639400, status=1, createTime=2025-04-30T09:59:47.813639400, updateTime=2025-04-30T09:59:47.813639400, deleted=0)
2025-04-30T09:59:47.879+08:00  INFO 2204 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e9035e1c98b7] - 2025-04-30 09:59:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 78ms
│ 返回结果 : {"fileName":"ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","fileSize":375170,"accessUrl":"/files/20250430/625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz","success":true,"filePath":"D:\\file\\20250430\\625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz","uploadTime":"2025-04-30 09:59:47.813","fileType":"tgz","fileId":34}
└─────────────────────────────────────────────────────┘
2025-04-30T10:01:10.423+08:00  WARN 2204 --- [http-nio-8080-exec-8] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T10:01:10.423+08:00  INFO 2204 --- [http-nio-8080-exec-8] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 67 ms
2025-04-30T10:01:16.650+08:00  INFO 2204 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [165ff263d46d] - 2025-04-30 10:01:16 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/user/page
│ 请求方式 : GET
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.user.controller.UserController.pageUsers
│ 请求参数 : [1, 10, null, desc, User(id=null, username=null, password=null, email=null, phone=null, status=null, createTime=null, updateTime=null, createBy=null, updateBy=null, isDeleted=null)]
└─────────────────────────────────────────────────────┘
2025-04-30T10:01:16.672+08:00 DEBUG 2204 --- [http-nio-8080-exec-9] c.g.user.mapper.UserMapper.selectList    : ==>  Preparing: SELECT id,username,password,email,phone,status,create_time,update_time,create_by,update_by,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY create_time DESC
2025-04-30T10:01:16.672+08:00 DEBUG 2204 --- [http-nio-8080-exec-9] c.g.user.mapper.UserMapper.selectList    : ==> Parameters: 
2025-04-30T10:01:16.689+08:00 DEBUG 2204 --- [http-nio-8080-exec-9] c.g.user.mapper.UserMapper.selectList    : <==      Total: 9
2025-04-30T10:01:16.690+08:00  INFO 2204 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [165ff263d46d] - 2025-04-30 10:01:16 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 42ms
│ 返回结果 : {"code":200,"msg":"success","data":{"records":[{"id":102,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":98,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":99,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":100,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":101,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":97,"username":"asd","password":"51156","email":"","phone":"15612356748","status":0,"createTime":"2025-04-25 14:39:50.547","updateTime":"2025-04-25 14:39:50.548","createBy":"system","updateBy":"system","isDeleted":0},{"id":94,"username":"test1","password":"password1","email":"test1@example.com","phone":"13800138001","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":95,"username":"test2","password":"password2","email":"test2@example.com","phone":"13800138002","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":96,"username":"test3","password":"password3","email":"test3@example.com","phone":"13800138003","status":0,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0}],"total":0,"size":10,"current":1,"pages":0}}
└─────────────────────────────────────────────────────┘
2025-04-30T10:01:47.044+08:00  INFO 2204 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [1d5767004a80] - 2025-04-30 10:01:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/url/34
│ 请求方式 : GET
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FilePreviewController.getFileUrl
│ 请求参数 : [34]
└─────────────────────────────────────────────────────┘
2025-04-30T10:01:47.044+08:00  INFO 2204 --- [http-nio-8080-exec-10] c.g.f.controller.FilePreviewController   : 获取文件URL: fileId=34
2025-04-30T10:01:47.044+08:00 DEBUG 2204 --- [http-nio-8080-exec-10] c.g.f.mapper.FileInfoMapper.selectById   : ==>  Preparing: SELECT id,device_id,user_id,file_name,file_path,access_url,domain_prefix,file_size,file_type,file_md5,record_date,record_start_time,record_duration,upload_time,status,create_time,update_time,deleted FROM t_file_info WHERE id=? AND deleted=0
2025-04-30T10:01:47.044+08:00 DEBUG 2204 --- [http-nio-8080-exec-10] c.g.f.mapper.FileInfoMapper.selectById   : ==> Parameters: 34(Long)
2025-04-30T10:01:47.047+08:00 DEBUG 2204 --- [http-nio-8080-exec-10] c.g.f.mapper.FileInfoMapper.selectById   : <==      Total: 1
2025-04-30T10:01:47.047+08:00  INFO 2204 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [1d5767004a80] - 2025-04-30 10:01:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"fileName":"ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","accessUrl":"/files/20250430/625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz","success":true,"filePath":"D:\\file\\20250430\\625fa0ac-298e-4b57-acc1-4faa53f9d684.tgz","fileType":"tgz","fileId":34}
└─────────────────────────────────────────────────────┘
2025-04-30T10:03:56.075+08:00  INFO 2204 --- [http-nio-8080-exec-2] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [0a7965e44a77] - 2025-04-30 10:03:56 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/preview/34
│ 请求方式 : GET
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FilePreviewController.previewFile
│ 请求参数 : [34, org.apache.catalina.connector.RequestFacade@791fbbdc, org.apache.catalina.connector.ResponseFacade@151d462]
└─────────────────────────────────────────────────────┘
2025-04-30T10:03:56.076+08:00  INFO 2204 --- [http-nio-8080-exec-2] c.g.f.controller.FilePreviewController   : 接收到文件预览请求: fileId=34
2025-04-30T10:03:56.077+08:00 DEBUG 2204 --- [http-nio-8080-exec-2] c.g.f.mapper.FileInfoMapper.selectById   : ==>  Preparing: SELECT id,device_id,user_id,file_name,file_path,access_url,domain_prefix,file_size,file_type,file_md5,record_date,record_start_time,record_duration,upload_time,status,create_time,update_time,deleted FROM t_file_info WHERE id=? AND deleted=0
2025-04-30T10:03:56.078+08:00 DEBUG 2204 --- [http-nio-8080-exec-2] c.g.f.mapper.FileInfoMapper.selectById   : ==> Parameters: 34(Long)
2025-04-30T10:03:56.081+08:00 DEBUG 2204 --- [http-nio-8080-exec-2] c.g.f.mapper.FileInfoMapper.selectById   : <==      Total: 1
2025-04-30T10:03:56.083+08:00  INFO 2204 --- [http-nio-8080-exec-2] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [0a7965e44a77] - 2025-04-30 10:03:56 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 8ms
└─────────────────────────────────────────────────────┘
2025-04-30T10:06:55.325+08:00  INFO 2204 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [09020f856435] - 2025-04-30 10:06:55 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/user/page
│ 请求方式 : GET
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.user.controller.UserController.pageUsers
│ 请求参数 : [1, 10, null, desc, User(id=null, username=null, password=null, email=null, phone=null, status=null, createTime=null, updateTime=null, createBy=null, updateBy=null, isDeleted=null)]
└─────────────────────────────────────────────────────┘
2025-04-30T10:06:55.328+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.user.mapper.UserMapper.selectList    : ==>  Preparing: SELECT id,username,password,email,phone,status,create_time,update_time,create_by,update_by,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY create_time DESC
2025-04-30T10:06:55.328+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.user.mapper.UserMapper.selectList    : ==> Parameters: 
2025-04-30T10:06:55.332+08:00 DEBUG 2204 --- [http-nio-8080-exec-4] c.g.user.mapper.UserMapper.selectList    : <==      Total: 9
2025-04-30T10:06:55.332+08:00  INFO 2204 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [09020f856435] - 2025-04-30 10:06:55 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 7ms
│ 返回结果 : {"code":200,"msg":"success","data":{"records":[{"id":102,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":98,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":99,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":100,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":101,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":97,"username":"asd","password":"51156","email":"","phone":"15612356748","status":0,"createTime":"2025-04-25 14:39:50.547","updateTime":"2025-04-25 14:39:50.548","createBy":"system","updateBy":"system","isDeleted":0},{"id":94,"username":"test1","password":"password1","email":"test1@example.com","phone":"13800138001","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":95,"username":"test2","password":"password2","email":"test2@example.com","phone":"13800138002","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":96,"username":"test3","password":"password3","email":"test3@example.com","phone":"13800138003","status":0,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0}],"total":0,"size":10,"current":1,"pages":0}}
└─────────────────────────────────────────────────────┘
2025-04-30T10:43:58.083+08:00  INFO 2204 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T10:43:58.084+08:00  INFO 2204 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T10:44:11.403+08:00  INFO 9048 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 9048 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T10:44:11.404+08:00 DEBUG 9048 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T10:44:11.405+08:00  INFO 9048 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T10:44:12.599+08:00  INFO 9048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T10:44:12.607+08:00  INFO 9048 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T10:44:12.607+08:00  INFO 9048 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T10:44:12.667+08:00  INFO 9048 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T10:44:12.668+08:00  INFO 9048 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1221 ms
2025-04-30T10:44:14.037+08:00  INFO 9048 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T10:44:14.091+08:00  INFO 9048 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T10:44:14.103+08:00  INFO 9048 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.407 seconds (process running for 3.943)
2025-04-30T10:44:14.405+08:00  INFO 9048 --- [RMI TCP Connection(3)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T10:44:14.405+08:00  INFO 9048 --- [RMI TCP Connection(3)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T10:44:14.409+08:00  INFO 9048 --- [RMI TCP Connection(3)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-30T10:44:14.434+08:00  INFO 9048 --- [RMI TCP Connection(2)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T10:44:25.918+08:00  WARN 9048 --- [http-nio-8080-exec-3] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T10:44:25.919+08:00  INFO 9048 --- [http-nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 163 ms
2025-04-30T10:44:33.969+08:00  INFO 9048 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e7cce75a5a59] - 2025-04-30 10:44:33 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFile
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@20703f1d, unknown, 0, 0]
└─────────────────────────────────────────────────────┘
2025-04-30T10:44:33.970+08:00  INFO 9048 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到文件上传请求: fileName=ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, fileSize=375170, deviceId=unknown, isEncrypted=0, isCompressed=0
2025-04-30T10:44:33.991+08:00  INFO 9048 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 文件存储成功: D:\file\20250430\79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz
2025-04-30T10:44:34.039+08:00 DEBUG 9048 --- [http-nio-8080-exec-9] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T10:44:34.052+08:00 DEBUG 9048 --- [http-nio-8080-exec-9] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: unknown(String), 333(String), ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz(String), D:\file\20250430\79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz(String), http://192.168.1.30:8080/api/files/20250430/79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz(String), 192.168.1.30(String), 375170(Long), tgz(String), a98b56f513cc95932141567aa4c0524d(String), 2025-04-29(LocalDate), 1970-01-21T12:58:41.269(LocalDateTime), 10001000(Long), 2025-04-30T10:44:33.996258700(LocalDateTime), 1(Integer), 2025-04-30T10:44:33.996258700(LocalDateTime), 2025-04-30T10:44:33.996258700(LocalDateTime), 0(Integer)
2025-04-30T10:44:34.055+08:00 DEBUG 9048 --- [http-nio-8080-exec-9] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T10:44:34.058+08:00  INFO 9048 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件上传成功: FileInfo(id=35, deviceId=unknown, userId=333, fileName=ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, filePath=D:\file\20250430\79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz, accessUrl=http://192.168.1.30:8080/api/files/20250430/79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz, domainPrefix=192.168.1.30, fileSize=375170, fileType=tgz, fileMd5=a98b56f513cc95932141567aa4c0524d, recordDate=2025-04-29, recordStartTime=1970-01-21T12:58:41.269, recordDuration=10001000, uploadTime=2025-04-30T10:44:33.996258700, status=1, createTime=2025-04-30T10:44:33.996258700, updateTime=2025-04-30T10:44:33.996258700, deleted=0)
2025-04-30T10:44:34.067+08:00  INFO 9048 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e7cce75a5a59] - 2025-04-30 10:44:34 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 98ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"ASD111_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","fileSize":375170,"accessUrl":"http://192.168.1.30:8080/api/files/20250430/79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz","success":true,"filePath":"D:\\file\\20250430\\79323c9b-6fa7-41a0-b3be-dfe9ad9f02b1.tgz","uploadTime":"2025-04-30 10:44:33.996","fileType":"tgz","fileId":35}}
└─────────────────────────────────────────────────────┘
2025-04-30T10:59:37.170+08:00  INFO 9048 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T10:59:37.171+08:00  INFO 9048 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T11:10:20.013+08:00  INFO 3540 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 3540 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T11:10:20.014+08:00 DEBUG 3540 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T11:10:20.015+08:00  INFO 3540 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T11:10:21.187+08:00  INFO 3540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T11:10:21.194+08:00  INFO 3540 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T11:10:21.195+08:00  INFO 3540 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T11:10:21.260+08:00  INFO 3540 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T11:10:21.261+08:00  INFO 3540 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1212 ms
2025-04-30T11:10:22.690+08:00  INFO 3540 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T11:10:22.745+08:00  INFO 3540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T11:10:22.756+08:00  INFO 3540 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.34 seconds (process running for 4.447)
2025-04-30T11:10:23.299+08:00  INFO 3540 --- [RMI TCP Connection(4)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T11:10:23.299+08:00  INFO 3540 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T11:10:23.302+08:00  INFO 3540 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-04-30T11:10:23.310+08:00  INFO 3540 --- [RMI TCP Connection(3)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T11:10:27.015+08:00  WARN 3540 --- [http-nio-8080-exec-3] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T11:10:27.016+08:00  INFO 3540 --- [http-nio-8080-exec-3] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 165 ms
2025-04-30T11:10:34.537+08:00  INFO 3540 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e5556888fa9a] - 2025-04-30 11:10:34 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFile
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@626f2190, unknown, 0, 0]
└─────────────────────────────────────────────────────┘
2025-04-30T11:10:34.538+08:00  INFO 3540 --- [http-nio-8080-exec-4] c.g.f.controller.FileUploadController    : 接收到文件上传请求: fileName=ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, fileSize=3818768, deviceId=unknown, isEncrypted=0, isCompressed=0
2025-04-30T11:10:34.599+08:00 DEBUG 3540 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T11:10:34.610+08:00 DEBUG 3540 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: unknown(String), 333(String), ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz(String), D:\file\20250430\ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz(String), http://192.168.1.30:8080/api/files/20250430/ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz(String), 192.168.1.30(String), 3818768(Long), tgz(String), eee5cfb8cd797385837f5e3945f6f8fe(String), 2025-04-29(LocalDate), 1970-01-21T12:58:41.269(LocalDateTime), 10001000(Long), 2025-04-30T11:10:34.558548900(LocalDateTime), 1(Integer), 2025-04-30T11:10:34.558548900(LocalDateTime), 2025-04-30T11:10:34.558548900(LocalDateTime), 0(Integer)
2025-04-30T11:10:34.614+08:00 DEBUG 3540 --- [http-nio-8080-exec-4] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T11:10:34.617+08:00  INFO 3540 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 文件上传成功: FileInfo(id=36, deviceId=unknown, userId=333, fileName=ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, filePath=D:\file\20250430\ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, accessUrl=http://192.168.1.30:8080/api/files/20250430/ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz, domainPrefix=192.168.1.30, fileSize=3818768, fileType=tgz, fileMd5=eee5cfb8cd797385837f5e3945f6f8fe, recordDate=2025-04-29, recordStartTime=1970-01-21T12:58:41.269, recordDuration=10001000, uploadTime=2025-04-30T11:10:34.558548900, status=1, createTime=2025-04-30T11:10:34.558548900, updateTime=2025-04-30T11:10:34.558548900, deleted=0)
2025-04-30T11:10:34.627+08:00  INFO 3540 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e5556888fa9a] - 2025-04-30 11:10:34 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 90ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","fileSize":3818768,"accessUrl":"http://192.168.1.30:8080/api/files/20250430/ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","success":true,"filePath":"D:\\file\\20250430\\ASD222_20250429_333_1745921269_10001000_a98b56f513cc95932141567aa4c0524d.tgz","uploadTime":"2025-04-30 11:10:34.558","fileType":"tgz","fileId":36}}
└─────────────────────────────────────────────────────┘
2025-04-30T11:11:06.882+08:00  WARN 3540 --- [http-nio-8080-exec-5] c.g.x.k.s.e.OpenApiExtensionResolver     : (Ignores) Failed to read Markdown files,Error Message:class path resource [markdown/] cannot be resolved to URL because it does not exist 
2025-04-30T11:11:06.882+08:00  INFO 3540 --- [http-nio-8080-exec-5] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 62 ms
2025-04-30T11:11:11.779+08:00  INFO 3540 --- [http-nio-8080-exec-6] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [8c9684601825] - 2025-04-30 11:11:11 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/user/page
│ 请求方式 : GET
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.user.controller.UserController.pageUsers
│ 请求参数 : [1, 10, null, desc, User(id=null, username=null, password=null, email=null, phone=null, status=null, createTime=null, updateTime=null, createBy=null, updateBy=null, isDeleted=null)]
└─────────────────────────────────────────────────────┘
2025-04-30T11:11:11.800+08:00 DEBUG 3540 --- [http-nio-8080-exec-6] c.g.user.mapper.UserMapper.selectList    : ==>  Preparing: SELECT id,username,password,email,phone,status,create_time,update_time,create_by,update_by,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY create_time DESC
2025-04-30T11:11:11.801+08:00 DEBUG 3540 --- [http-nio-8080-exec-6] c.g.user.mapper.UserMapper.selectList    : ==> Parameters: 
2025-04-30T11:11:11.815+08:00 DEBUG 3540 --- [http-nio-8080-exec-6] c.g.user.mapper.UserMapper.selectList    : <==      Total: 9
2025-04-30T11:11:11.816+08:00  INFO 3540 --- [http-nio-8080-exec-6] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [8c9684601825] - 2025-04-30 11:11:11 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 40ms
│ 返回结果 : {"code":200,"msg":"success","data":{"records":[{"id":102,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":98,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":99,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":100,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":101,"username":"是的是的所","password":"16665","email":null,"phone":null,"status":1,"createTime":null,"updateTime":null,"createBy":null,"updateBy":null,"isDeleted":0},{"id":97,"username":"asd","password":"51156","email":"","phone":"15612356748","status":0,"createTime":"2025-04-25 14:39:50.547","updateTime":"2025-04-25 14:39:50.548","createBy":"system","updateBy":"system","isDeleted":0},{"id":94,"username":"test1","password":"password1","email":"test1@example.com","phone":"13800138001","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":95,"username":"test2","password":"password2","email":"test2@example.com","phone":"13800138002","status":1,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0},{"id":96,"username":"test3","password":"password3","email":"test3@example.com","phone":"13800138003","status":0,"createTime":"2025-04-25 14:37:07.834","updateTime":"2025-04-25 14:37:07.834","createBy":"system","updateBy":"system","isDeleted":0}],"total":0,"size":10,"current":1,"pages":0}}
└─────────────────────────────────────────────────────┘
2025-04-30T11:11:15.895+08:00  INFO 3540 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T11:11:15.897+08:00  INFO 3540 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T16:23:16.876+08:00  INFO 6492 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 6492 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T16:23:16.877+08:00 DEBUG 6492 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T16:23:16.877+08:00  INFO 6492 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T16:23:18.064+08:00  INFO 6492 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T16:23:18.072+08:00  INFO 6492 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T16:23:18.072+08:00  INFO 6492 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T16:23:18.134+08:00  INFO 6492 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T16:23:18.134+08:00  INFO 6492 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1223 ms
2025-04-30T16:23:19.593+08:00  INFO 6492 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T16:23:19.648+08:00  INFO 6492 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T16:23:19.658+08:00  INFO 6492 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.369 seconds (process running for 4.092)
2025-04-30T16:23:20.103+08:00  INFO 6492 --- [RMI TCP Connection(1)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T16:23:20.104+08:00  INFO 6492 --- [RMI TCP Connection(1)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T16:23:20.107+08:00  INFO 6492 --- [RMI TCP Connection(1)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-30T16:23:20.132+08:00  INFO 6492 --- [RMI TCP Connection(2)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T16:23:28.452+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [7903fd9951dc] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@67a31d3a, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.452+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:28.457+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:28.457+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001408458_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_239595_1746001408458_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:28.458+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408458_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.459+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:28.459+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408458_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.470+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408458_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\0.part
2025-04-30T16:23:28.471+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:23:28.471+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:28.472+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:28.472+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:23:28.477+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [7903fd9951dc] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 21ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.502+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [58b95eeaa114] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@5126f1f6, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.502+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001408503_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_239595_1746001408503_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:28.503+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408503_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.504+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:28.504+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408503_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.506+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408503_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\1.part
2025-04-30T16:23:28.507+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:23:28.507+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:28.507+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:28.507+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:23:28.507+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [58b95eeaa114] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 5ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [41caed578e76] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7f5868bd, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:28.518+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001408519_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_239595_1746001408519_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408519_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.519+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:28.520+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408519_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.521+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408519_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\2.part
2025-04-30T16:23:28.521+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:23:28.521+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:28.521+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:28.521+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:23:28.522+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [41caed578e76] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 4ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.542+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2621e1b4202a] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@d06269b, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:28.542+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:23:28.542+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:28.543+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:28.543+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:28.543+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:28.543+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:28.543+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001408543_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_239595_1746001408543_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408543_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:28.544+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408543_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001408543_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\3.part
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块4上传成功，等待其他分块上传
2025-04-30T16:23:28.545+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2621e1b4202a] - 2025-04-30 16:23:28 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":3,"completed":false,"message":"分块4上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.710+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [bb164212db5f] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4a8a78d4, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.710+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001433711_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_239595_1746001433711_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433711_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.711+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433711_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433711_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\0.part
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:53.712+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:23:53.713+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [bb164212db5f] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [6f4265221d11] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2e003f06, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:53.724+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001433724_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.725+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_239595_1746001433724_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.725+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:53.725+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433724_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.725+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:53.725+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433724_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.726+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433724_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\1.part
2025-04-30T16:23:53.726+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:23:53.726+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:53.726+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:53.727+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:23:53.727+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [6f4265221d11] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.738+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2243233a0c42] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@55197f0a, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.738+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001433739_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_239595_1746001433739_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433739_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.739+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:53.740+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433739_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.740+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433739_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\2.part
2025-04-30T16:23:53.740+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:23:53.740+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:53.740+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:53.741+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:23:53.741+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2243233a0c42] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [fccaf3b65c47] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7b67f38e, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:23:53.761+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001433761_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_239595_1746001433761_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433761_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:23:53.762+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433761_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001433761_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\3.part
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块4上传成功，等待其他分块上传
2025-04-30T16:23:53.763+08:00  INFO 6492 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [fccaf3b65c47] - 2025-04-30 16:23:53 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":3,"completed":false,"message":"分块4上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.016+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [6ee59267cba1] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@939b3e3, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.016+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001582019_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.019+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_239595_1746001582019_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.020+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:26:22.020+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582019_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.020+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:26:22.021+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582019_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.022+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582019_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\0.part
2025-04-30T16:26:22.022+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:26:22.022+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:26:22.022+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:26:22.022+08:00  INFO 6492 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:26:22.023+08:00  INFO 6492 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [6ee59267cba1] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2ec48dcb4864] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4eb5e55d, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001582033_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_239595_1746001582033_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:26:22.033+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582033_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.034+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:26:22.034+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582033_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582033_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\1.part
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:26:22.035+08:00  INFO 6492 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2ec48dcb4864] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [7de848dfa46d] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@409c825e, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:26:22.047+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001582047_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.048+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_239595_1746001582047_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.048+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:26:22.048+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582047_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.048+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:26:22.048+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582047_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.049+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582047_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\2.part
2025-04-30T16:26:22.049+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:26:22.049+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:26:22.049+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:26:22.049+08:00  INFO 6492 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:26:22.050+08:00  INFO 6492 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [7de848dfa46d] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.059+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [6a8ccf9a5184] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@101bfbcd, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:26:22.059+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001582060_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_239595_1746001582060_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582060_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.060+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:26:22.061+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582060_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001582060_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\3.part
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块4上传成功，等待其他分块上传
2025-04-30T16:26:22.062+08:00  INFO 6492 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [6a8ccf9a5184] - 2025-04-30 16:26:22 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":3,"completed":false,"message":"分块4上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:30:47.466+08:00  INFO 6492 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T16:30:47.468+08:00  INFO 6492 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T16:31:32.966+08:00  INFO 9184 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 9184 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T16:31:32.968+08:00 DEBUG 9184 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T16:31:32.968+08:00  INFO 9184 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T16:31:34.083+08:00  INFO 9184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T16:31:34.089+08:00  INFO 9184 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T16:31:34.090+08:00  INFO 9184 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T16:31:34.150+08:00  INFO 9184 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T16:31:34.150+08:00  INFO 9184 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1149 ms
2025-04-30T16:31:35.539+08:00  INFO 9184 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T16:31:35.593+08:00  INFO 9184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T16:31:35.603+08:00  INFO 9184 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.011 seconds (process running for 3.667)
2025-04-30T16:31:35.733+08:00  INFO 9184 --- [RMI TCP Connection(1)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T16:31:35.734+08:00  INFO 9184 --- [RMI TCP Connection(1)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T16:31:35.736+08:00  INFO 9184 --- [RMI TCP Connection(1)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-30T16:31:35.757+08:00  INFO 9184 --- [RMI TCP Connection(3)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T16:31:46.915+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [4f4127001747] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6dc0e726, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.915+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:31:46.920+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:31:46.921+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.921+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.921+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:31:46.921+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.921+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:31:46.922+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.923+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\0.part
2025-04-30T16:31:46.923+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:31:46.924+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:31:46.924+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:31:46.924+08:00  INFO 9184 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:31:46.929+08:00  INFO 9184 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [4f4127001747] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 10ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [851c58c3fd8a] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7f5868bd, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:31:46.957+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:31:46.958+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.959+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\1.part
2025-04-30T16:31:46.959+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:31:46.960+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:31:46.960+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:31:46.960+08:00  INFO 9184 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:31:46.960+08:00  INFO 9184 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [851c58c3fd8a] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.982+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [88e8a936619c] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@d06269b, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.982+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:31:46.983+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.984+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:31:46.984+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.985+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\2.part
2025-04-30T16:31:46.985+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:31:46.985+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:31:46.985+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:31:46.985+08:00  INFO 9184 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:31:46.986+08:00  INFO 9184 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [88e8a936619c] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 4ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [3d8e0040b979] - 2025-04-30 16:31:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4a8a78d4, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:31:46.996+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:31:46.997+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.997+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:31:46.997+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.997+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:31:46.997+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz
2025-04-30T16:31:46.998+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz\3.part
2025-04-30T16:31:46.998+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:31:46.998+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:31:46.999+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传使用随机文件名: cd59b127-89bc-4e60-8293-59e496e2ad7e.gz
2025-04-30T16:31:46.999+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz
2025-04-30T16:31:47.003+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz, 大小: 3818684
2025-04-30T16:31:47.004+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz
2025-04-30T16:31:47.005+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz
2025-04-30T16:31:47.052+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz -> D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed
2025-04-30T16:31:47.052+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed
2025-04-30T16:31:47.094+08:00 DEBUG 9184 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:31:47.102+08:00 DEBUG 9184 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: TEST_DEVICE(String), 20250430(String), TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz(String), D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed(String), http://192.168.1.30:8080/api/files/D:/file/20250430/cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed(String), 192.168.1.30(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-04-30(LocalDate), 1970-01-01T08:03:59.595(LocalDateTime), 1746001906920(Long), 2025-04-30T16:31:47.066184500(LocalDateTime), 1(Integer), 2025-04-30T16:31:47.066703(LocalDateTime), 2025-04-30T16:31:47.066703(LocalDateTime), 0(Integer)
2025-04-30T16:31:47.106+08:00 DEBUG 9184 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:31:47.109+08:00  INFO 9184 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=55, deviceId=TEST_DEVICE, userId=20250430, fileName=TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz, filePath=D:\file\20250430\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed, domainPrefix=192.168.1.30, fileSize=3833983, fileType=gz, fileMd5=2072231eee8912e4312bd92b077be16b, recordDate=2025-04-30, recordStartTime=1970-01-01T08:03:59.595, recordDuration=1746001906920, uploadTime=2025-04-30T16:31:47.066184500, status=1, createTime=2025-04-30T16:31:47.066703, updateTime=2025-04-30T16:31:47.066703, deleted=0)
2025-04-30T16:31:47.117+08:00  INFO 9184 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [3d8e0040b979] - 2025-04-30 16:31:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 120ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_239595_1746001906920_0_2d7fb5aec85aed4f7598db1b71e4a194.gz","fileSize":3833983,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\cd59b127-89bc-4e60-8293-59e496e2ad7e.gz.decompressed","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:31:47.066","message":"文件上传完成","fileType":"gz","fileId":55}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:30.181+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T16:36:30.182+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T16:36:40.186+08:00  INFO 16096 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 16096 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T16:36:40.187+08:00 DEBUG 16096 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T16:36:40.188+08:00  INFO 16096 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T16:36:41.320+08:00  INFO 16096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T16:36:41.327+08:00  INFO 16096 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T16:36:41.327+08:00  INFO 16096 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T16:36:41.388+08:00  INFO 16096 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T16:36:41.389+08:00  INFO 16096 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1168 ms
2025-04-30T16:36:42.745+08:00  INFO 16096 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T16:36:42.798+08:00  INFO 16096 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T16:36:42.809+08:00  INFO 16096 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.096 seconds (process running for 3.762)
2025-04-30T16:36:43.419+08:00  INFO 16096 --- [RMI TCP Connection(4)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T16:36:43.419+08:00  INFO 16096 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T16:36:43.422+08:00  INFO 16096 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-04-30T16:36:43.427+08:00  INFO 16096 --- [RMI TCP Connection(1)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T16:36:48.912+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [b833e7cdb89c] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@754915d5, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.912+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:36:48.916+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:36:48.916+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:36:48.916+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:36:48.916+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:36:48.916+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:36:48.917+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:36:48.917+08:00  WARN 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 无法从文件名解析时间戳，使用当前时间戳
2025-04-30T16:36:48.918+08:00  WARN 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 无法从文件名解析时长，使用默认值0
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:36:48.918+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.919+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\0.part
2025-04-30T16:36:48.920+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:36:48.920+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:36:48.920+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:36:48.920+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:36:48.926+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [b833e7cdb89c] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 10ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.959+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [401f0b2f0892] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2316a8dc, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.960+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:36:48.961+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\1.part
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:36:48.962+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [401f0b2f0892] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.974+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [31c94a4c451b] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2200f9e4, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:36:48.975+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.976+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:36:48.976+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\2.part
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:36:48.977+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [31c94a4c451b] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [ec87920ca3f1] - 2025-04-30 16:36:48 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@555df0da, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:36:48.987+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.988+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:36:48.988+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.989+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\3.part
2025-04-30T16:36:48.989+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:36:48.989+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:36:48.989+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传使用随机文件名: deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz
2025-04-30T16:36:48.989+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz
2025-04-30T16:36:48.993+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz, 大小: 3818684
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\0.part
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\1.part
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\2.part
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz\3.part
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz
2025-04-30T16:36:48.994+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz
2025-04-30T16:36:49.037+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz -> D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed
2025-04-30T16:36:49.037+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed
2025-04-30T16:36:49.080+08:00 DEBUG 16096 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:36:49.088+08:00 DEBUG 16096 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: TEST_DEVICE(String), 20250430(String), TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz(String), D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed(String), http://192.168.1.30:8080/api/files/D:/file/20250430/deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed(String), 192.168.1.30(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-04-30(LocalDate), 1970-01-01T13:37:30.430(LocalDateTime), 1746002208917(Long), 2025-04-30T16:36:49.051822900(LocalDateTime), 1(Integer), 2025-04-30T16:36:49.051822900(LocalDateTime), 2025-04-30T16:36:49.051822900(LocalDateTime), 0(Integer)
2025-04-30T16:36:49.091+08:00 DEBUG 16096 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:36:49.095+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=56, deviceId=TEST_DEVICE, userId=20250430, fileName=TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz, filePath=D:\file\20250430\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed, domainPrefix=192.168.1.30, fileSize=3833983, fileType=gz, fileMd5=2072231eee8912e4312bd92b077be16b, recordDate=2025-04-30, recordStartTime=1970-01-01T13:37:30.430, recordDuration=1746002208917, uploadTime=2025-04-30T16:36:49.051822900, status=1, createTime=2025-04-30T16:36:49.051822900, updateTime=2025-04-30T16:36:49.051822900, deleted=0)
2025-04-30T16:36:49.104+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [ec87920ca3f1] - 2025-04-30 16:36:49 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 116ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_20250430_1746002208917_0_11e1ec248d694151b61320eca420cddf.gz","fileSize":3833983,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\deeae8f1-d3ad-4249-b9ff-fb88abed8cb4.gz.decompressed","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:36:49.051","message":"文件上传完成","fileType":"gz","fileId":56}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.379+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [3373f960ff36] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2e4744ea, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.379+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:00.380+08:00  WARN 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 无法从文件名解析时间戳，使用当前时间戳
2025-04-30T16:37:00.380+08:00  WARN 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 无法从文件名解析时长，使用默认值0
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.380+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:00.381+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\0.part
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:37:00.382+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [3373f960ff36] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [1c5fd94a1bc1] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7c360c78, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.404+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:00.405+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\1.part
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:37:00.406+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [1c5fd94a1bc1] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [b744fd55dc75] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@27292866, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=TEST_DEVICE
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.418+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:00.419+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.419+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\2.part
2025-04-30T16:37:00.419+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:37:00.420+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:37:00.420+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:37:00.420+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:37:00.420+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [b744fd55dc75] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [7517fcbc9a3b] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@263f797c, TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, TEST_DEVICE, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=TEST_DEVICE
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:00.430+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.431+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:00.431+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.432+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\3.part
2025-04-30T16:37:00.432+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:37:00.432+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:37:00.432+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块上传使用随机文件名: 31319191-42a4-4c01-80fd-d86db756ad27.gz
2025-04-30T16:37:00.432+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz
2025-04-30T16:37:00.435+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz, 大小: 3818684
2025-04-30T16:37:00.435+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\0.part
2025-04-30T16:37:00.435+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\1.part
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\2.part
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz\3.part
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: TEST_DEVICE_20250430_TEST_USER_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz
2025-04-30T16:37:00.436+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz
2025-04-30T16:37:00.481+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz -> D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed
2025-04-30T16:37:00.481+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed
2025-04-30T16:37:00.492+08:00 DEBUG 16096 --- [http-nio-8080-exec-10] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:37:00.493+08:00 DEBUG 16096 --- [http-nio-8080-exec-10] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: TEST_DEVICE(String), 20250430(String), TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz(String), D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed(String), http://192.168.1.30:8080/api/files/D:/file/20250430/31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed(String), 192.168.1.30(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-04-30(LocalDate), 1970-01-01T13:37:30.430(LocalDateTime), 1746002220380(Long), 2025-04-30T16:37:00.492211800(LocalDateTime), 1(Integer), 2025-04-30T16:37:00.492211800(LocalDateTime), 2025-04-30T16:37:00.492211800(LocalDateTime), 0(Integer)
2025-04-30T16:37:00.495+08:00 DEBUG 16096 --- [http-nio-8080-exec-10] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:37:00.495+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=57, deviceId=TEST_DEVICE, userId=20250430, fileName=TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz, filePath=D:\file\20250430\31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed, domainPrefix=192.168.1.30, fileSize=3833983, fileType=gz, fileMd5=2072231eee8912e4312bd92b077be16b, recordDate=2025-04-30, recordStartTime=1970-01-01T13:37:30.430, recordDuration=1746002220380, uploadTime=2025-04-30T16:37:00.492211800, status=1, createTime=2025-04-30T16:37:00.492211800, updateTime=2025-04-30T16:37:00.492211800, deleted=0)
2025-04-30T16:37:00.497+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [7517fcbc9a3b] - 2025-04-30 16:37:00 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 67ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"TEST_DEVICE_20250430_20250430_1746002220380_0_69a84a117a224ec4bd8968ccd8a8f0d4.gz","fileSize":3833983,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\31319191-42a4-4c01-80fd-d86db756ad27.gz.decompressed","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:37:00.492","message":"文件上传完成","fileType":"gz","fileId":57}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.324+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2afbc8b5922f] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@1683d5bf, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.325+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:46.326+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\0.part
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:37:46.327+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2afbc8b5922f] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [0704235a39d4] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6f7a4ed1, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:46.348+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.349+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:46.349+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\1.part
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:37:46.350+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [0704235a39d4] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.361+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [ea8b34f95274] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@56d99388, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.361+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:37:46.361+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:46.361+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:46.362+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\2.part
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:37:46.363+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [ea8b34f95274] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [b7ce3b905651] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@622ba2e7, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=DEVICE111
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:37:46.382+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.384+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\3.part
2025-04-30T16:37:46.384+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:37:46.384+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:37:46.384+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.384+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.388+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, 大小: 3818684
2025-04-30T16:37:46.388+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\0.part
2025-04-30T16:37:46.388+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\1.part
2025-04-30T16:37:46.388+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\2.part
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\3.part
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.389+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:37:46.432+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-04-30T16:37:46.432+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-04-30T16:37:46.444+08:00 DEBUG 16096 --- [http-nio-8080-exec-3] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:37:46.445+08:00 DEBUG 16096 --- [http-nio-8080-exec-3] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: DEVICE111(String), USER3(String), DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz(String), D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), 192.168.1.30(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-04-30(LocalDate), 2025-04-30T10:57:57.207(LocalDateTime), 239595(Long), 2025-04-30T16:37:46.443955800(LocalDateTime), 1(Integer), 2025-04-30T16:37:46.443955800(LocalDateTime), 2025-04-30T16:37:46.443955800(LocalDateTime), 0(Integer)
2025-04-30T16:37:46.446+08:00 DEBUG 16096 --- [http-nio-8080-exec-3] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:37:46.447+08:00  INFO 16096 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=58, deviceId=DEVICE111, userId=USER3, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, filePath=D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz, domainPrefix=192.168.1.30, fileSize=3833983, fileType=gz, fileMd5=2072231eee8912e4312bd92b077be16b, recordDate=2025-04-30, recordStartTime=2025-04-30T10:57:57.207, recordDuration=239595, uploadTime=2025-04-30T16:37:46.443955800, status=1, createTime=2025-04-30T16:37:46.443955800, updateTime=2025-04-30T16:37:46.443955800, deleted=0)
2025-04-30T16:37:46.448+08:00  INFO 16096 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [b7ce3b905651] - 2025-04-30 16:37:46 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 66ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","fileSize":3833983,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:37:46.443","message":"文件上传完成","fileType":"gz","fileId":58}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [5df35adbdba0] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@2cd6e210, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 0, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=1/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:38:08.939+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.940+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:38:08.940+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.941+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\0.part
2025-04-30T16:38:08.941+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:38:08.941+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:38:08.941+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:38:08.941+08:00  INFO 16096 --- [http-nio-8080-exec-10] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:38:08.942+08:00  INFO 16096 --- [http-nio-8080-exec-10] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [5df35adbdba0] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [f97afabca537] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@53eb97f5, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 1, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=2/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:38:08.963+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\1.part
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:38:08.964+08:00  INFO 16096 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [f97afabca537] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 1ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.975+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [676d93be4ca6] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4a2bc95a, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 2, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=3/4, fileSize=1048576, deviceId=DEVICE111
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:38:08.976+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.977+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\2.part
2025-04-30T16:38:08.977+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:38:08.977+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:38:08.977+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:38:08.977+08:00  INFO 16096 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:38:08.978+08:00  INFO 16096 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [676d93be4ca6] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [71cc390d1bab] - 2025-04-30 16:38:08 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@52a5c85a, DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, DEVICE111, 3, 4, 0, 1]
└─────────────────────────────────────────────────────┘
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, chunk=4/4, fileSize=672956, deviceId=DEVICE111
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:38:08.987+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.988+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:38:08.988+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.988+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\3.part
2025-04-30T16:38:08.988+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 672956
2025-04-30T16:38:08.989+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:38:08.989+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.989+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.992+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, 大小: 3818684
2025-04-30T16:38:08.992+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\0.part
2025-04-30T16:38:08.992+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\1.part
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\2.part
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz\3.part
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:08.993+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz
2025-04-30T16:38:09.036+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileCompressUtil   : 文件解压成功: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz -> D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-04-30T16:38:09.036+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz
2025-04-30T16:38:09.046+08:00 DEBUG 16096 --- [http-nio-8080-exec-1] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:38:09.047+08:00 DEBUG 16096 --- [http-nio-8080-exec-1] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: DEVICE111(String), USER3(String), DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz(String), D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz(String), 192.168.1.30(String), 3833983(Long), gz(String), 2072231eee8912e4312bd92b077be16b(String), 2025-04-30(LocalDate), 2025-04-30T10:57:57.207(LocalDateTime), 239595(Long), 2025-04-30T16:38:09.046662400(LocalDateTime), 1(Integer), 2025-04-30T16:38:09.046662400(LocalDateTime), 2025-04-30T16:38:09.046662400(LocalDateTime), 0(Integer)
2025-04-30T16:38:09.049+08:00 DEBUG 16096 --- [http-nio-8080-exec-1] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:38:09.049+08:00  INFO 16096 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=59, deviceId=DEVICE111, userId=USER3, fileName=DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz, filePath=D:\file\20250430\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz, domainPrefix=192.168.1.30, fileSize=3833983, fileType=gz, fileMd5=2072231eee8912e4312bd92b077be16b, recordDate=2025-04-30, recordStartTime=2025-04-30T10:57:57.207, recordDuration=239595, uploadTime=2025-04-30T16:38:09.046662400, status=1, createTime=2025-04-30T16:38:09.046662400, updateTime=2025-04-30T16:38:09.046662400, deleted=0)
2025-04-30T16:38:09.051+08:00  INFO 16096 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [71cc390d1bab] - 2025-04-30 16:38:09 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 63ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.gz","fileSize":3833983,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\DEVICE111_20250430_USER3_1745981877207_239595_2072231eee8912e4312bd92b077be16b.decompressed.gz","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:38:09.046","message":"文件上传完成","fileType":"gz","fileId":59}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:48:27.667+08:00  INFO 16096 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T16:48:27.668+08:00  INFO 16096 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
2025-04-30T16:48:37.495+08:00  INFO 12944 --- [main] com.goodsop.server.GoodsopApplication    : Starting GoodsopApplication using Java 17.0.12 with PID 12944 (D:\work\cursor\goodsop3\goodsop-server\target\classes started by pc in D:\work\cursor\goodsop3)
2025-04-30T16:48:37.496+08:00 DEBUG 12944 --- [main] com.goodsop.server.GoodsopApplication    : Running with Spring Boot v3.1.5, Spring v6.0.13
2025-04-30T16:48:37.496+08:00  INFO 12944 --- [main] com.goodsop.server.GoodsopApplication    : The following 1 profile is active: "dev"
2025-04-30T16:48:38.671+08:00  INFO 12944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-04-30T16:48:38.679+08:00  INFO 12944 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-04-30T16:48:38.679+08:00  INFO 12944 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.15]
2025-04-30T16:48:38.742+08:00  INFO 12944 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-04-30T16:48:38.743+08:00  INFO 12944 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1212 ms
2025-04-30T16:48:40.097+08:00  INFO 12944 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-04-30T16:48:40.150+08:00  INFO 12944 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path '/api'
2025-04-30T16:48:40.161+08:00  INFO 12944 --- [main] com.goodsop.server.GoodsopApplication    : Started GoodsopApplication in 3.027 seconds (process running for 3.607)
2025-04-30T16:48:40.739+08:00  INFO 12944 --- [RMI TCP Connection(4)-192.168.80.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-04-30T16:48:40.740+08:00  INFO 12944 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-04-30T16:48:40.742+08:00  INFO 12944 --- [RMI TCP Connection(4)-192.168.80.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-04-30T16:48:40.753+08:00  INFO 12944 --- [RMI TCP Connection(1)-192.168.80.1] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
2025-04-30T16:49:23.875+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [fdf0d2ee9391] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@548c516c, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 0, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.876+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=1/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:49:23.880+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:49:23.880+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:49:23.880+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:49:23.881+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.882+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:49:23.882+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.884+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\0.part
2025-04-30T16:49:23.884+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:49:23.884+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:49:23.884+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:49:23.884+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:49:23.889+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [fdf0d2ee9391] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 11ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [8ddec845a985] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3a39005e, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 1, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=2/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:49:23.918+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:49:23.919+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.920+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\1.part
2025-04-30T16:49:23.920+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:49:23.920+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:49:23.920+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:49:23.921+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:49:23.921+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [8ddec845a985] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [74056e9034ae] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7844a1d4, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 2, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=3/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:49:23.933+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:49:23.934+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.934+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:49:23.934+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.934+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:49:23.935+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\2.part
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:49:23.936+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [74056e9034ae] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.946+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [627c1734ad76] - 2025-04-30 16:49:23 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3c2755d6, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 3, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=4/4, fileSize=673064, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:49:23.947+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.948+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\3.part
2025-04-30T16:49:23.948+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673064
2025-04-30T16:49:23.948+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:49:23.949+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.949+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.952+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, 大小: 3818792
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\0.part
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\1.part
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\2.part
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\3.part
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.953+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.954+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.954+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip -> DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.954+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.954+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:49:23.999+08:00 DEBUG 12944 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:49:24.008+08:00 DEBUG 12944 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: DEVICE1(String), USER1(String), DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), 192.168.1.30(String), 3818792(Long), zip(String), 5d7df51dff6dcd1a452feea5644e7f68(String), 2025-04-30(LocalDate), 2025-04-30T10:57:57.207(LocalDateTime), 239595(Long), 2025-04-30T16:49:23.968239900(LocalDateTime), 1(Integer), 2025-04-30T16:49:23.968239900(LocalDateTime), 2025-04-30T16:49:23.968239900(LocalDateTime), 0(Integer)
2025-04-30T16:49:24.011+08:00 DEBUG 12944 --- [http-nio-8080-exec-7] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:49:24.014+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=60, deviceId=DEVICE1, userId=USER1, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, filePath=D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, domainPrefix=192.168.1.30, fileSize=3818792, fileType=zip, fileMd5=5d7df51dff6dcd1a452feea5644e7f68, recordDate=2025-04-30, recordStartTime=2025-04-30T10:57:57.207, recordDuration=239595, uploadTime=2025-04-30T16:49:23.968239900, status=1, createTime=2025-04-30T16:49:23.968239900, updateTime=2025-04-30T16:49:23.968239900, deleted=0)
2025-04-30T16:49:24.023+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [627c1734ad76] - 2025-04-30 16:49:24 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 76ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","fileSize":3818792,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:49:23.968","message":"文件上传完成","fileType":"zip","fileId":60}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.148+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [ed91af0cb3e0] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@47af2f6b, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 0, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.148+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=1/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.151+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:50:47.152+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.153+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\0.part
2025-04-30T16:50:47.153+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:50:47.154+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:50:47.154+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:50:47.154+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:50:47.154+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [ed91af0cb3e0] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 6ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.165+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [9d91bf699cb2] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@4161e666, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 1, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.165+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=2/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:50:47.165+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:50:47.166+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.167+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\1.part
2025-04-30T16:50:47.167+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:50:47.167+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:50:47.167+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:50:47.167+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:50:47.168+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [9d91bf699cb2] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.178+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [cd9908dc6902] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3e0693c1, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 2, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=3/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:50:47.179+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\2.part
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:50:47.180+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [cd9908dc6902] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [e2282d0b3741] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7c7b3a04, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, DEVICE1, 3, 4, 0, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, chunk=4/4, fileSize=673196, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:50:47.203+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.204+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:50:47.204+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.205+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\3.part
2025-04-30T16:50:47.205+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673196
2025-04-30T16:50:47.205+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:50:47.205+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.205+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.209+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, 大小: 3818924
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\0.part
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\1.part
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\2.part
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip\3.part
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip -> DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.210+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 文件处理完成: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip
2025-04-30T16:50:47.221+08:00 DEBUG 12944 --- [http-nio-8080-exec-5] c.g.file.mapper.FileInfoMapper.insert    : ==>  Preparing: INSERT INTO t_file_info ( device_id, user_id, file_name, file_path, access_url, domain_prefix, file_size, file_type, file_md5, record_date, record_start_time, record_duration, upload_time, status, create_time, update_time, deleted ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2025-04-30T16:50:47.222+08:00 DEBUG 12944 --- [http-nio-8080-exec-5] c.g.file.mapper.FileInfoMapper.insert    : ==> Parameters: DEVICE1(String), USER1(String), DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip(String), 192.168.1.30(String), 3818924(Long), zip(String), 959f26dd5f1bfb4de0588b204b04a76f(String), 2025-04-30(LocalDate), 2025-04-30T10:57:57.207(LocalDateTime), 239595(Long), 2025-04-30T16:50:47.221354500(LocalDateTime), 1(Integer), 2025-04-30T16:50:47.221354500(LocalDateTime), 2025-04-30T16:50:47.221354500(LocalDateTime), 0(Integer)
2025-04-30T16:50:47.223+08:00 DEBUG 12944 --- [http-nio-8080-exec-5] c.g.file.mapper.FileInfoMapper.insert    : <==    Updates: 1
2025-04-30T16:50:47.223+08:00  INFO 12944 --- [http-nio-8080-exec-5] c.g.file.service.impl.FileServiceImpl    : 分块文件上传完成: FileInfo(id=61, deviceId=DEVICE1, userId=USER1, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, filePath=D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, accessUrl=http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip, domainPrefix=192.168.1.30, fileSize=3818924, fileType=zip, fileMd5=959f26dd5f1bfb4de0588b204b04a76f, recordDate=2025-04-30, recordStartTime=2025-04-30T10:57:57.207, recordDuration=239595, uploadTime=2025-04-30T16:50:47.221354500, status=1, createTime=2025-04-30T16:50:47.221354500, updateTime=2025-04-30T16:50:47.221354500, deleted=0)
2025-04-30T16:50:47.225+08:00  INFO 12944 --- [http-nio-8080-exec-5] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [e2282d0b3741] - 2025-04-30 16:50:47 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 22ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","fileSize":3818924,"accessUrl":"http://192.168.1.30:8080/api/files/D:/file/20250430/DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunks":4,"success":true,"filePath":"D:\\file\\20250430\\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip","chunk":3,"completed":true,"uploadTime":"2025-04-30 16:50:47.221","message":"文件上传完成","fileType":"zip","fileId":61}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.372+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [09b589e31210] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@3224ad54, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 0, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.372+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=1/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:51:52.373+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:51:52.373+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:51:52.373+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:51:52.373+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:51:52.373+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:51:52.374+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.375+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\0.part
2025-04-30T16:51:52.375+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:51:52.376+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:51:52.376+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:51:52.376+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:51:52.376+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [09b589e31210] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 4ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.386+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [205ef3decf10] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@dadc610, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 1, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.386+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=2/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:51:52.387+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\1.part
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:51:52.389+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [205ef3decf10] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [b736d8939122] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@36896770, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 2, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=3/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:51:52.400+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.401+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:51:52.401+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\2.part
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:51:52.402+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [b736d8939122] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.415+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [5dc836e69e3a] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7b040a65, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 3, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:52.415+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=4/4, fileSize=673216, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:51:52.416+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.417+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:51:52.417+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673216
2025-04-30T16:51:52.417+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:51:52.417+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.417+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.421+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc, 大小: 3818944
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\0.part
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\1.part
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\2.part
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc -> DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.422+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:52.493+08:00 ERROR 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileEncryptUtil    : 文件解密失败: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 111 common frames omitted

2025-04-30T16:51:52.498+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件处理失败: 文件解密失败

java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 108 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 111 common frames omitted

2025-04-30T16:51:52.499+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件上传失败: 文件处理失败

java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:694) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	... 107 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 108 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 111 common frames omitted

2025-04-30T16:51:52.501+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 分块上传失败: 分块文件上传失败

java.lang.RuntimeException: 分块文件上传失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:410) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:694) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	... 106 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	... 107 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 108 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 111 common frames omitted

2025-04-30T16:51:52.503+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [5dc836e69e3a] - 2025-04-30 16:51:52 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 88ms
│ 返回结果 : {"code":500,"msg":"分块上传失败: 分块文件上传失败","data":null}
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:57.513+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [3f3e3fb89acc] - 2025-04-30 16:51:57 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@79eaccad, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 3, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:51:57.513+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=4/4, fileSize=673216, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:51:57.514+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:51:57.515+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:51:57.515+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673216
2025-04-30T16:51:57.515+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:51:57.516+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:51:57.516+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 分块4上传成功，等待其他分块上传
2025-04-30T16:51:57.516+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [3f3e3fb89acc] - 2025-04-30 16:51:57 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":3,"completed":false,"message":"分块4上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.492+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [24be9b156720] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@59444192, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 0, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=1/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=1/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.493+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:52:15.494+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\0.part
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 1/4, 大小: 1048576
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] c.g.file.service.impl.FileServiceImpl    : 分块1上传成功，等待其他分块上传
2025-04-30T16:52:15.495+08:00  INFO 12944 --- [http-nio-8080-exec-7] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [24be9b156720] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":0,"completed":false,"message":"分块1上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [0ed10cf81ba8] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@6a960274, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 1, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=2/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=2/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:52:15.506+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.507+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:52:15.507+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\1.part
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 2/4, 大小: 1048576
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 2/4, 是否全部上传: false
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 2/4
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] c.g.file.service.impl.FileServiceImpl    : 分块2上传成功，等待其他分块上传
2025-04-30T16:52:15.508+08:00  INFO 12944 --- [http-nio-8080-exec-9] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [0ed10cf81ba8] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 2ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":1,"completed":false,"message":"分块2上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.519+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [2179e6fc0d00] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@d239b5, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 2, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.520+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=3/4, fileSize=1048576, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=3/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:52:15.521+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\2.part
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 3/4, 大小: 1048576
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 3/4, 是否全部上传: false
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 3/4
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] c.g.file.service.impl.FileServiceImpl    : 分块3上传成功，等待其他分块上传
2025-04-30T16:52:15.522+08:00  INFO 12944 --- [http-nio-8080-exec-1] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [2179e6fc0d00] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":2,"completed":false,"message":"分块3上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [b4407252048b] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@8aa09b6, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 3, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=4/4, fileSize=673216, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:52:15.531+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录已存在: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.532+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:52:15.532+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673216
2025-04-30T16:52:15.532+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 4/4, 是否全部上传: true
2025-04-30T16:52:15.532+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块上传使用标准文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.532+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 准备合并文件到: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 合并文件成功: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc, 大小: 3818944
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\0.part
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\1.part
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\2.part
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除文件: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 成功删除目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.536+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 临时目录删除成功: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.537+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileTransferUtil   : 分块文件上传完成并合并: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.537+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 从缓存中清理文件名映射: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc -> DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.537+08:00  INFO 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 所有分块上传完成，开始处理合并后的文件: D:\file\20250430\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:15.587+08:00 ERROR 12944 --- [http-nio-8080-exec-3] com.goodsop.file.util.FileEncryptUtil    : 文件解密失败: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.

java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor65.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor64.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 108 common frames omitted

2025-04-30T16:52:15.589+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 文件处理失败: 文件解密失败

java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor65.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor64.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 105 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 108 common frames omitted

2025-04-30T16:52:15.592+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.file.service.impl.FileServiceImpl    : 分块文件上传失败: 文件处理失败

java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:694) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor65.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor64.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	... 104 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 105 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 108 common frames omitted

2025-04-30T16:52:15.594+08:00 ERROR 12944 --- [http-nio-8080-exec-3] c.g.f.controller.FileUploadController    : 分块上传失败: 分块文件上传失败

java.lang.RuntimeException: 分块文件上传失败
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:410) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor65.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logServiceExecutionTime(LogAspect.java:156) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor64.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.service.impl.FileServiceImpl$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at com.goodsop.file.controller.FileUploadController.uploadFileChunk(FileUploadController.java:90) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.common.aop.LogAspect.logAround(LogAspect.java:97) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor63.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]
	at com.goodsop.file.controller.FileUploadController$$SpringCGLIB$$0.uploadFileChunk(<generated>) ~[classes/:na]
	at jdk.internal.reflect.GeneratedMethodAccessor58.invoke(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.RuntimeException: 文件处理失败
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:694) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.uploadFileChunk(FileServiceImpl.java:280) ~[classes/:na]
	... 103 common frames omitted
Caused by: java.lang.RuntimeException: 文件解密失败
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:85) ~[classes/:na]
	at com.goodsop.file.service.impl.FileServiceImpl.processFile(FileServiceImpl.java:640) ~[classes/:na]
	... 104 common frames omitted
Caused by: java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:237) ~[na:na]
	at com.goodsop.file.util.FileEncryptUtil.decryptFile(FileEncryptUtil.java:77) ~[classes/:na]
	... 105 common frames omitted
Caused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.
	at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:862) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:942) ~[na:na]
	at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:826) ~[na:na]
	at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:480) ~[na:na]
	at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152) ~[na:na]
	at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145) ~[na:na]
	... 108 common frames omitted

2025-04-30T16:52:15.597+08:00  INFO 12944 --- [http-nio-8080-exec-3] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [b4407252048b] - 2025-04-30 16:52:15 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 66ms
│ 返回结果 : {"code":500,"msg":"分块上传失败: 分块文件上传失败","data":null}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:20.605+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求开始 - [61b8048a4210] - 2025-04-30 16:52:20 │
├─────────────────────────────────────────────────────┤
│ 请求URL : http://192.168.1.30:8080/api/file/chunk/upload
│ 请求方式 : POST
│ 请求IP  : 192.168.1.30
│ 类方法   : com.goodsop.file.controller.FileUploadController.uploadFileChunk
│ 请求参数 : [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@7dd54748, DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, DEVICE1, 3, 4, 1, 1, null]
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:20.605+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.f.controller.FileUploadController    : 接收到分块上传请求: fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc, chunk=4/4, fileSize=673216, deviceId=DEVICE1, originalExtension=null
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 文件存储配置路径: D:/file/
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 修正的基础路径: D:/file/\
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 今日日期格式化: 20250430
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 实际存储目录: D:/file/\20250430
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 存储目录已存在: D:/file/\20250430
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 分块上传的文件名不符合标准格式，将进行重命名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 生成标准格式文件名: DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 处理分块上传: fileChunk=4/4, fileName=DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 主目录: D:\file\20250430
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 目录检查 - 临时目录: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:20.606+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 主目录已存在: D:\file\20250430
2025-04-30T16:52:20.607+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 临时目录不存在，已创建: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc
2025-04-30T16:52:20.607+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件已保存: D:\file\20250430\temp\DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.enc\3.part
2025-04-30T16:52:20.607+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件上传: chunk 4/4, 大小: 673216
2025-04-30T16:52:20.608+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块上传状态 - 已上传: 1/4, 是否全部上传: false
2025-04-30T16:52:20.608+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.file.util.FileTransferUtil   : 分块文件上传进度: 1/4
2025-04-30T16:52:20.608+08:00  INFO 12944 --- [http-nio-8080-exec-4] c.g.file.service.impl.FileServiceImpl    : 分块4上传成功，等待其他分块上传
2025-04-30T16:52:20.608+08:00  INFO 12944 --- [http-nio-8080-exec-4] com.goodsop.common.aop.LogAspect         : 
┌─────────────────────────────────────────────────────┐
│ 请求结束 - [61b8048a4210] - 2025-04-30 16:52:20 │
├─────────────────────────────────────────────────────┤
│ 执行时间 : 3ms
│ 返回结果 : {"code":200,"msg":"success","data":{"fileName":"DEVICE1_20250430_USER1_1745981877207_239595_2072231eee8912e4312bd92b077be16b.zip.enc","chunks":4,"success":true,"chunk":3,"completed":false,"message":"分块4上传成功，请继续上传"}}
└─────────────────────────────────────────────────────┘
2025-04-30T16:52:43.222+08:00  INFO 12944 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closing ...
2025-04-30T16:52:43.223+08:00  INFO 12944 --- [SpringApplicationShutdownHook] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} closed
